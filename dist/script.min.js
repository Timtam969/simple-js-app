let pokemonRepository=function(){let a=[];function b(b){"object"!=typeof b&&window.alert("Invalid Pokemon entry");let c=Object.keys(b);if(!c.includes("name"))return"The pokemon object is missing some required fields";a.push(b)}function c(){return a}function f(){document.getElementById("loader").style.display="block"}function g(){document.getElementById("loader").style.display="none"}function d(a){pokemonRepository.loadDetails(a).then(function(){h(a)})}function h(a){let b=$(".modal-body"),e=$(".modal-title");e.empty(),b.empty();let k=$("<h1>"+a.name+"</h1>"),f=$('<img class="modal-img" style="width:70%">');f.attr("src",a.image);let g=$("<p>Height:<br>"+a.height+"</p>");g.addClass("height col-6");let h=$("<p>Types:<br>"+a.types+"</p>");h.addClass("types col-6");let i=$("<p>Weight:<br>"+a.weight+"</p>");i.addClass("weight col-6");let j=$("<p>HP:<br>"+a.stats+"</p>");j.addClass("hp col-6");let c=$("<div>");c.addClass("att1");let d=$("<div>");d.addClass("att2"),e.append(k),b.append(f),b.append(c),b.append(d),c.append(g,i),d.append(h,j)}a.filter(a=>void 0===a.name)[0];let e=document.getElementById("search");return e.addEventListener("keyup",a=>{let c=a.target.value,b=document.querySelectorAll("li");b.forEach(a=>{a.innerText.toLowerCase().includes(c.toLowerCase())?a.style.display="block":a.style.display="none"})}),{add:b,getAll:c,addListItem:function(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(c){let k=document.querySelector("#characters-list"),e=document.createElement("li");e.classList.add("group-list-item-active");let b=document.createElement("button"),f=document.createElement("span"),i=document.createElement("p"),j=document.createElement("img");j.src=c.sprites.other["official-artwork"].front_default,f.innerText=c.name[0].toUpperCase()+c.name.slice(1),i.innerText="# "+c.id,b.setAttribute("data-toggle","modal"),b.setAttribute("data-target",".modal"),b.classList.add("button-class","btn-block","btn","m1"),b.appendChild(i),b.appendChild(j),b.appendChild(f),e.appendChild(b),k.appendChild(e),b.addEventListener("click",function(){h(c),d(a)}),g()}).catch(function(a){console.error(a)})},loadList:function(){return f(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=100").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name[0].toUpperCase()+a.name.slice(1),detailsUrl:a.url})})}).catch(function(a){g(),console.error(a)})},loadDetails:function(a){return f(),fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){g(),a.image=b.sprites.other["official-artwork"].front_default,a.height=b.height,a.types=b.types.map(a=>a.type.name).join(", "),a.weight=b.weight,a.id=b.id,a.stats=b.stats[0].base_stat}).catch(function(a){console.error(a)})},showDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
